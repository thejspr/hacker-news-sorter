function moveDown(b,c){var a=b.prev("tr");b.next("tr").remove();var d=c;b.insertAfter(d);a.insertAfter(d);a.before('<tr style="height: 5px"></tr>')}function sort_entries(){var f;do{var e=$("td.subtext");f=false;for(var c=0;c<e.length-1;c++){var b=$(e[c]).parent();var d=b.next("tr").next("tr").next("tr");var g=parseInt($("span",b).text().split(" ")[0]);var a=parseInt($("span",d).text().split(" ")[0]);if(isNaN(g)){g=0}if(isNaN(a)){a=0}if(g<a){moveDown(b,d);f=true}}}while(f===true);$("#sorter").css("opacity","0.4")}var search_html='&nbsp;&nbsp;<input id="searchyc" size="30" type="text" placeholder="Search with hnsearch.com"></input>';search_html+='<button id="searchyc-button">Search</input>';$("span:first").append(search_html);$("#searchyc,#searchyc-button").css("border","0").css("padding","0");$("#searchyc-button").css("vertical-align","middle");$("#searchyc-button").click(function(){var a=$("#searchyc").val();a=encodeURIComponent(a);window.location="http://www.hnsearch.com/search#request/all&q="+a});$("#searchyc").keyup(function(a){if(a.keyCode==13){$("#searchyc-button").click()}});var sort_html='<div id="sorter" style="position:absolute;float:left;color:#000;font-size:85%;"><button id="sort_btn">Sort</button><br />';sort_html+='<span style="vertical-align:middle;"><input type="checkbox" id="keep_sorted"></span>Auto</div>';$("body").prepend(sort_html);if(localStorage.keep_sorted==1){$("#keep_sorted").attr("checked","checked");sort_entries()}$("#keep_sorted").click(function(){if($(this).is(":checked")){localStorage.keep_sorted=1;sort_entries()}else{localStorage.keep_sorted=0}});$("#sort_btn").click(function(){sort_entries()});